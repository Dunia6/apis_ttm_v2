(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{139:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t(11),r=t(16),i=t(0),c=t(60),o=t(1),s=function(e){var n=e.children,t=i.useReducer(c.b,c.c),s=Object(r.a)(t,2),l=s[0],u=s[1],d=i.useCallback((function(e){return u(e)}),[]);return Object(o.jsx)(c.a.Provider,{value:Object(a.a)(Object(a.a)({},l),{},{dispatcher:d}),children:n(u)})}},189:function(e,n){},195:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(16),r=t(11),i=t(0),c=t(82),o=t(84),s=t(60),l=t(1),u=i.forwardRef((function(e,n){var t=e.user,a=e.actions,c=i.useRef(null),o=i.useContext(s.a),u=o.dispatcher,b=o.reservations,p=o.defaultReservation,h=o.devMod,O=o.clipboard,x=o.precomposition,f=o.selectedTrajet,v=o.x;i.useImperativeHandle(n,(function(){return{handlerDispatch:C,reservations:b,values:c.current}}));var g=Object(r.a)(Object(r.a)({},b),p),y=i.useCallback((function(e,n,r){c.current={type:e,data:{user:t,seat:n.id}},a?a(g,e,n,t,r):r(e,{user:t,seat:n.id})}),[a,g,t]),C=i.useCallback((function(e,n){u({type:"unreserve"===e?"handlerUnreserve":"handlerReserve",payload:n})}),[u]),S=i.useCallback((function(e){if(h)console.log("on press",h,O),u({type:"handlerChangeType",payload:Object(r.a)(Object(r.a)({},e),{},{type:O})});else if("SEAT"===e.type){if(e.id in g){var n=g[e.id];if(n){var t=m(n,f);t&&("user"===t.user?y("unreserve",e,C):alert("la place est deja prise, veiller selectionner un android vide"))}}y("reserve",e,C)}}),[g,O,h,u,y,C,f]);return Object(l.jsx)("div",{children:Object(l.jsx)("table",{children:Object(l.jsxs)("tbody",{children:[Object(l.jsx)(j,{nt:parseInt(v.toString()),left:"#",right:"#"}),x.map((function(e,n){return Object(l.jsx)(d,{n:n,trajet:f,devMod:h,onPress:S,list:e.data,user:t,reservations:g},e.id)})),Object(l.jsx)(j,{nt:parseInt(v.toString()),left:"#",right:"#"})]})})})})),d=function(e){var n=e.list,t=e.devMod,a=e.reservations,r=void 0===a?{}:a,c=e.user,s=e.onPress,u=e.trajet,d=e.n,j=i.useCallback((function(e){var n={desable:!1,color:void 0};if("SEAT"===e.type)if(e.id in r){var t=r[e.id];if(t){var a=m(t,u);a&&(a.user===c?n.color="primary":n.desable=!0)}}else n.color="secondary";return n}),[r,u,c]),p=i.useCallback((function(e){return s(e)}),[s]);return Object(l.jsxs)("tr",{children:[Object(l.jsx)(b,{name:String.fromCharCode(d+65)}),n.map((function(e){var n=j(e),a=n.desable,r=n.color;return Object(l.jsx)("td",{children:Object(l.jsx)(o.a,{color:r,disabled:a,info:e,onPress:p,modeDev:t})},e.id)})),Object(l.jsx)(b,{name:String.fromCharCode(d+65)})]})},j=function(e){var n=e.nt,t=e.left,a=e.right;return Object(l.jsxs)("tr",{children:[Object(l.jsx)(b,{name:t}),Array.from(Array(n).keys()).map((function(e,n){return Object(l.jsx)(b,{name:String.fromCharCode(n+65)},n)})),Object(l.jsx)(b,{name:a})]})},b=function(e){var n=e.name;return Object(l.jsx)("td",{style:{textAlign:"center",padding:15},children:Object(l.jsx)(c.a,{variant:"caption",textAlign:"center",sx:{p:1},children:n})})},m=function(e,n){var t=Object(a.a)(n,1)[0];return e.find((function(e){return Object(a.a)(e.trajet,2)[1]>t}))}},196:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return i}));t(6),t(11);var a=t(21);function r(e){var n=[];return null===e||void 0===e||e.map((function(e){n=[].concat(Object(a.a)(n),Object(a.a)(e.data))})),n}function i(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],a=function(n){t.push({id:n,data:e.filter((function(e){return e.y===n})).sort((function(e,n){return e.x-n.x}))})},r=0;r<n;r++)a(r);return t}},214:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(11),r=(t(0),t(153)),i=t(82),c=t(546),o=t(84),s=t(1),l=function(e){return Object(s.jsxs)(c.a,{flexDirection:"column",marginBottom:2,children:[Object(s.jsx)(o.a,Object(a.a)(Object(a.a)({},e.seat),{},{modeDev:!0})),Object(s.jsx)(i.a,{variant:"caption",textAlign:"center",marginTop:1,children:e.name})]})},u=function(e){return Object(s.jsxs)(r.a,{children:[Object(s.jsxs)(r.a,{style:{marginBottom:20},children:[Object(s.jsx)(i.a,{variant:"subtitle2",marginBottom:2,children:"Seats Information"}),Object(s.jsxs)(r.a,{children:[Object(s.jsx)(l,{seat:{variant:"contained",disabled:!0,modeDev:!1,info:{type:"SEAT",id:"null",x:2,y:3,name:"null",idConfigCab:"null"}},name:"Place indisponible"}),Object(s.jsx)(l,{seat:{variant:"contained",color:"secondary",modeDev:!1,info:{type:"SEAT",id:"null",x:2,y:3,name:"null",idConfigCab:"null"}},name:"Place disponible"}),Object(s.jsx)(l,{seat:{variant:"contained",color:"primary",modeDev:!1,info:{type:"SEAT",id:"null",x:2,y:3,name:"null",idConfigCab:"null"}},name:"Place prise"})]})]}),Object(s.jsx)(r.a,{children:e.clientActionButtonGroup}),Object(s.jsxs)(r.a,{style:{marginBottom:20},children:[Object(s.jsx)(i.a,{variant:"subtitle2",marginBottom:2,children:"Seats Note"}),Object(s.jsx)(i.a,{variant:"caption",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas repellat libero id veniam pariatur? Velit illum explicabo ea, placeat, ducimus dolore aliquam id voluptatem nobis dignissimos nulla ullam, natus optio? Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam odio iusto architecto earum explicabo neque. Nulla, eveniet quia cum ratione illo fugit aut quo fugiat deserunt quaerat vitae repellat maiores? Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem id odio, omnis suscipit eaque dolorem ratione fuga mollitia aliquid pariatur, tempora harum et quisquam assumenda quos, iure ea itaque expedita."})]}),Object(s.jsxs)(r.a,{children:[Object(s.jsx)(i.a,{variant:"subtitle2",marginBottom:2,children:"Notice"}),Object(s.jsx)(i.a,{variant:"caption",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas repellat libero id veniam pariatur? Velit illum explicabo ea, placeat, ducimus dolore aliquam id voluptatem nobis dignissimos nulla ullam, natus optio? Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam odio iusto architecto earum explicabo neque. Nulla, eveniet quia cum ratione illo fugit aut quo fugiat deserunt quaerat vitae repellat maiores? Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem id odio, omnis suscipit eaque dolorem ratione fuga mollitia aliquid pariatur, tempora harum et quisquam assumenda quos, iure ea itaque expedita."})]})]})}},215:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(0),r=t(60),i=t(195),c=t(1),o=a.forwardRef((function(e,n){var t=a.useContext(r.a),o=e.defaultConfiguration,s=e.dispatch;return a.useEffect((function(){o&&s({type:"handlerInit",payload:o})}),[o,s]),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)(i.a,{ref:n,dataConfig:t,user:e.user,actions:e.actions})})}))},308:function(e,n,t){"use strict";t(0),t(683),t(139),t(214),t(215),t(60),t(153),t(546),t(664),t(705),t(82),t(554),t(84),t(1),t(341)},309:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var a=t(0),r=t(683),i=t(82),c=t(153),o=t(139),s=t(214),l=t(215),u=t(16),d=t(676),j=t(8),b=t(60),m=t(1),p=Object(j.a)(d.a)((function(e){return{color:(e.theme.palette.mode,"#3880ff"),height:2,padding:"15px 0","& .MuiSlider-thumb":{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"#3880ff",transformOrigin:"bottom left",transform:"translate(50%, -100%) rotate(-45deg) scale(0)","&:before":{display:"none"},"&.MuiSlider-valueLabelOpen":{transform:"translate(50%, -100%) rotate(-45deg) scale(1)"},"& > *":{transform:"rotate(45deg)"}},"& .MuiSlider-track":{border:"none"},"& .MuiSlider-rail":{opacity:.5,backgroundColor:"#bfbfbf"},"& .MuiSlider-mark":{backgroundColor:"#bfbfbf",height:8,width:1,"&.MuiSlider-markActive":{opacity:1,backgroundColor:"currentColor"}}}}));function h(e){return"".concat(e," Bienfait")}var O=a.forwardRef((function(e,n){var t=a.useContext(b.a),r=t.trajets,i=t.selectedTrajet,c=t.dispatcher,o=a.useMemo((function(){return r.length-1}),[r]),s=a.useCallback((function(e,n){var t=n,a=Object(u.a)(t,2),r=a[0],o=a[1],s=Object(u.a)(i,2),l=s[0],d=s[1];r===l&&o===d||c({type:"handlerChangeSelectTrajet",payload:r!==o?[r,o]:i})}),[c,i]);return Object(m.jsx)(p,{valueLabelDisplay:"auto",getAriaLabel:function(){return"pretto slider"},value:i,onChange:s,getAriaValueText:h,min:0,max:o,step:null,marks:r,valueLabelFormat:function(e){return"Bi!"+e}})})),x=a.forwardRef((function(e,n){var t=e.user,a=e.configuration,u=e.actions,d=e.clientActionButtonGroup;return Object(m.jsx)(o.a,{children:function(e){return Object(m.jsxs)(r.a,{container:!0,spacing:5,children:[Object(m.jsxs)(r.a,{item:!0,xs:9,children:[Object(m.jsxs)(c.a,{sx:{pl:2,pr:2,m:3},children:[Object(m.jsx)(i.a,{textAlign:"center",variant:"subtitle2",marginBottom:2,children:"Trajet"}),Object(m.jsx)(O,{}),Object(m.jsx)(c.a,{sx:{m:3}})]}),Object(m.jsx)(i.a,{textAlign:"center",variant:"subtitle2",marginBottom:2,children:"Plant Cabine"}),Object(m.jsx)(l.a,{ref:n,defaultConfiguration:a,dispatch:e,actions:u,user:t})]}),Object(m.jsx)(r.a,{item:!0,xs:3,children:Object(m.jsx)(s.a,{clientActionButtonGroup:d})})]})}})}))},338:function(e,n,t){"use strict";t(195),t(139),t(84),t(308);var a=t(309);t.d(n,"ClientPlaceReservations",(function(){return a.a}));t(189)},341:function(e,n,t){"use strict";var a=t(189);t.o(a,"getComposition")&&t.d(n,"getComposition",(function(){return a.getComposition}));var r=t(196);t.d(n,"getComposition",(function(){return r.a}));t(60)},537:function(e,n,t){},538:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(31),c=t.n(i),o=t(127),s=t(37),l=t(346),u=t(310),d=t(626),j=t(88),b=t(627),m=t(94),p=t(312),h=t(258),O=t(313),x=t.n(O),f=t(314),v=t(11),g=t(16),y=t(315),C="/transport/journey/",S=t.n(y).a.create({baseURL:"http://localhost:8000"}),T=function(e){return Object(j.d)(e,j.b)},D=function(){return T((function(e){return e.steperReservation}))},k=t(141),w=t.n(k),P="NEXT_STEP",I="PREVIOUS_STEP",q="GO_TO_STEP",R="INIT_STEP",B="SELECT_JOURNEY",E="SET_PASSEGER",N="SET_SESSION",A="RESET_RESERVATION",$={currentStep:0,maxStep:0,padSteper:null,company:null,journeySelected:void 0,passengers:void 0,sessionReservation:null,folderReservation:null},M=function(){var e=D(),n=Object(j.c)(),t=r.a.useCallback((function(e){n({type:q,payload:e})}),[n]),a=r.a.useCallback((function(e){n({type:R,payload:e})}),[n]),i=r.a.useCallback((function(){n({type:P})}),[n]),c=r.a.useCallback((function(){n({type:I})}),[n]);return Object(v.a)(Object(v.a)({},e),{},{goTo:t,goPrivious:c,goNext:i,initialise:a})};var L={adults:[],children:[],babies:[]},z="INIT_PASSENGER",Y="SET_VALUE_PASSENGER",F=function(e,n,t){return{adults:[],children:[],babies:[]}},V=Object(m.combineReducers)({steperReservation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case I:return Object(v.a)(Object(v.a)({},e),{},{padSteper:I,currentStep:e.currentStep-1});case R:return Object(v.a)(Object(v.a)({},e),n.payload);case B:return console.log(n),Object(v.a)(Object(v.a)({},e),{},{journeySelected:n.payload.selected,folderReservation:n.payload.folder,sessionReservation:n.payload.session});case E:return Object(v.a)(Object(v.a)({},e),{},{passengers:n.payload});case N:return Object(v.a)(Object(v.a)({},e),{},{sessionReservation:n.payload});case P:var t=e.currentStep+1;return Object(v.a)(Object(v.a)({},e),{},{padSteper:P,currentStep:t,maxStep:t>e.maxStep?t:e.maxStep});case q:return Object(v.a)(Object(v.a)({},e),{},{padSteper:q,currentStep:n.payload});case A:return Object(v.a)(Object(v.a)({},e),{},{currentStep:0,journeySelected:void 0,maxStep:0,sessionReservation:void 0});default:return e}},tmpData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case z:var t=n.payload,a=t.adult,r=t.child,i=t.baby;return Object(v.a)(Object(v.a)({},e),F(a,r,i));case Y:return Object(v.a)({},e);default:return e}}}),_={key:"root",storage:x.a,whitelist:["steperReservation"],blacklist:["tmpData"]},U=Object(h.a)(_,V),W=Object(m.applyMiddleware)(p.a),G=Object(m.createStore)(U,Object(f.composeWithDevTools)(W)),J=Object(h.b)(G),H=t(344),Q=t(686),K=t(319),X=t.n(K),Z=t(320),ee=t.n(Z),ne=Object(H.a)({palette:{primary:{main:X.a[500]},secondary:{main:ee.a[500]}}}),te=Object(Q.a)(ne),ae=t(1),re=function(e){var n=e.children;return Object(ae.jsx)(j.a,{store:G,children:Object(ae.jsx)(u.a,{loading:null,persistor:J,children:n})})},ie=function(e){var n=e.children;return Object(ae.jsxs)(d.a,{theme:te,children:[Object(ae.jsx)(b.a,{}),n]})},ce=t(6),oe=t(629),se=t(687),le=t(630),ue=t(632),de=t(174),je=t(631),be=t(63),me=t(677),pe=t(633),he=t(321),Oe=t.n(he),xe=t(637),fe=t.p+"static/media/ttm_logo.ac62b429.png",ve=Object(oe.a)((function(e){return Object(se.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},mt:{marginTop:e.spacing(4)},imgLogo:{height:85,width:"auto"}})})),ge=r.a.forwardRef((function(e,n){var t=ve(),a=r.a.useState(!1),i=Object(g.a)(a,2),c=i[0],s=i[1],l=ye();return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(le.a,Object(v.a)(Object(v.a)({position:"fixed",elevation:0},e),{},{role:"appbar",ref:n,children:Object(ae.jsx)(je.a,{maxWidth:"md",children:Object(ae.jsxs)(ue.a,{style:{paddingRight:0,paddingLeft:0},children:[Object(ae.jsx)("div",{className:t.title,children:Object(ae.jsx)(o.b,{to:"/",children:Object(ae.jsx)("img",{className:t.imgLogo,src:fe,alt:"Ttm"})})}),l?Object(ae.jsx)("div",{className:t.mt,children:Object(ae.jsxs)(ue.a,{children:[Object(ae.jsx)(de.a,{variant:"subtitle1",className:t.menuButton,children:"Home"}),Object(ae.jsx)(de.a,{variant:"subtitle1",className:t.menuButton,children:"Programmes"})]})}):Object(ae.jsx)(pe.a,{style:{color:"#fff"},onClick:function(){return s(!0)},children:Object(ae.jsx)(Oe.a,{})})]})})})),Object(ae.jsx)(me.a,{anchor:"left",open:c,onClose:function(){return s(!1)},onOpen:function(){l&&s(!0)},children:Object(ae.jsx)("h1",{children:"Hello menu"})})]})})),ye=function(){var e=Object(be.a)();return Object(xe.a)(e.breakpoints.up("sm"))},Ce=t(638),Se=t(634);function Te(e){var n=e.children,t=e.window,a=Object(Ce.a)({target:t?t():void 0});return Object(ae.jsx)(Se.a,{appear:!1,direction:"down",in:!a,children:n})}var De=Object(oe.a)((function(e){return Object(se.a)({children:Object(ce.a)({marginTop:e.spacing(7)},e.breakpoints.up("sm"),{marginTop:e.spacing(3)})})}));function ke(e){var n=De(),t=ye();return Object(ae.jsxs)(r.a.Fragment,{children:[Object(ae.jsx)(b.a,{}),Object(ae.jsx)(Te,Object(v.a)(Object(v.a)({},e),{},{children:Object(ae.jsx)(ge,{})})),t&&Object(ae.jsx)(ue.a,{}),Object(ae.jsx)("div",{className:n.children,children:null===e||void 0===e?void 0:e.children})]})}var we=t(639),Pe=t.p+"static/media/gb1.8f24b2d9.jpg",Ie=Object(oe.a)((function(e){return Object(se.a)({root:{backgroundImage:"url("+Pe+")"},bg:{backgroundColor:"#e0e4f773",color:"#fff",paddingBottom:e.spacing(3)},pt3:{paddingTop:e.spacing(5),paddingBottom:e.spacing(3)},title:{textShadow:"1px 1px 4px black"}})})),qe=function(e){var n=Ie();return Object(ae.jsx)("div",{className:n.root,children:Object(ae.jsx)("div",{className:n.bg,children:Object(ae.jsxs)(je.a,{maxWidth:"md",children:[Object(ae.jsx)("div",{className:n.pt3,children:Object(ae.jsx)(de.a,{className:n.title,variant:"h4",children:"Voyager devient encore plus simple!"})}),Object(ae.jsxs)(we.a,{container:!0,spacing:4,children:[Object(ae.jsx)(we.a,{item:!0,xs:12,md:8,sm:8,children:null===e||void 0===e?void 0:e.children}),Object(ae.jsx)(we.a,{item:!0,xs:12,md:4,sm:4,children:Object(ae.jsx)("h1",{children:"Ttm nos services"})})]})]})})})},Re=t(541),Be=t(645),Ee=t(675),Ne=t(646),Ae=t(77),$e=t.n(Ae),Me=t(93),Le=t(86),ze=t(641),Ye=t(640),Fe=t(642),Ve=t(643),_e=t(644),Ue=t(325),We=t.n(Ue),Ge=t(326),Je=t.n(Ge),He=t(324),Qe=t.n(He),Ke=t(688),Xe=Object(oe.a)((function(e){return Object(se.a)({root:{width:"100%"},bg:{backgroundColor:e.palette.background.paper,width:"100%"},item:{width:"100%",boxSizing:"content-box"}})})),Ze={adult:1,baby:0,child:0},en=[{id:1,name:"adult",label:"Adult",description:"Plus de 12 ans"},{id:2,name:"child",label:"Enfant",description:"Moin de 12ans"},{id:3,name:"baby",label:"Bebe",description:"Moin de 3ans"}];function nn(e){return e}function tn(e,n){switch(n.type){case"increment[adult]":return Object(v.a)(Object(v.a)({},e),{},{adult:e.adult+1});case"decrement[adult]":return Object(v.a)(Object(v.a)({},e),{},{adult:sn(e.adult-1)});case"increment[child]":return Object(v.a)(Object(v.a)({},e),{},{child:e.child+1});case"decrement[child]":return Object(v.a)(Object(v.a)({},e),{},{child:sn(e.child-1)});case"increment[baby]":return Object(v.a)(Object(v.a)({},e),{},{baby:e.baby+1});case"decrement[baby]":return Object(v.a)(Object(v.a)({},e),{},{baby:sn(e.baby-1)});case"reset":return n.payload;default:return e}}var an,rn,cn,on,sn=function(e){return e<0?0:e},ln=function(e){var n=e.onChange,t=Object(Le.a)(e,["onChange"]),a=Xe(),r=t.value[t.option.name];return Object(ae.jsx)(Ye.a,{className:a.root,component:"div","aria-labelledby":"nested-list-subheader",subheader:Object(ae.jsx)(ze.a,{component:"div",className:a.bg,id:"nested-list-subheader",children:t.option.label}),children:Object(ae.jsxs)(Fe.a,{className:a.item,children:[Object(ae.jsx)(Ve.a,{children:Object(ae.jsx)(pe.a,{size:"small",onClick:function(){return n({type:"decrement["+t.option.name+"]"})},children:Object(ae.jsx)(Qe.a,{fontSize:"small"})})}),Object(ae.jsx)(_e.a,{primary:r}),Object(ae.jsx)(Ve.a,{children:Object(ae.jsx)(pe.a,{size:"small",onClick:function(){return n({type:"increment["+t.option.name+"]"})},children:Object(ae.jsx)(We.a,{fontSize:"small"})})})]})})},un=function(e){var n=Object.assign({},e),t=function(e){return r.a.useReducer(tn,e,nn)}(r.a.useMemo((function(){return Object(v.a)(Object(v.a)({},Ze),n.value)}),[n.value])),a=Object(g.a)(t,2),i=a[0],c=a[1],o=r.a.useState(null),s=Object(g.a)(o,2),l=s[0],u=s[1],d=Boolean(l),j=d?"simple-popover":void 0,b=r.a.useMemo((function(){return i.adult+i.baby+i.child+" Passagers"}),[i]);return Object(ae.jsx)("div",{children:Object(ae.jsx)(Be.a,{control:Object(ae.jsxs)("div",{children:[Object(ae.jsx)(pe.a,{style:{marginRight:10},"aria-describedby":j,color:"primary",onClick:function(e){u(e.currentTarget)},children:Object(ae.jsx)(Je.a,{fontSize:"small"})}),Object(ae.jsx)(Ke.a,{id:j,open:d,anchorEl:l,onClose:function(){u(null),n.onChange&&n.onChange(i)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:en.map((function(e){return Object(ae.jsx)(ln,{onChange:c,option:e,value:i},e.id)}))})]}),label:b})})},dn=r.a.memo(un),jn=t(667),bn=t(670),mn=t(328),pn=t.n(mn),hn=t(674),On=t(61),xn=t(668),fn=Object(xn.a)(an||(an=Object(On.a)(["\n    query GetTown($name : String){\n        coverCities(town_Istartswith:$name){\n            pageInfo {\n                hasNextPage\n                hasPreviousPage\n                startCursor\n                endCursor\n            }\n            edges{\n                node{\n                    id\n                    dateCreated\n                    town\n                    code\n                    latitude\n                    longitude\n                }\n                cursor\n            }\n        }\n    }\n"]))),vn=Object(xn.a)(rn||(rn=Object(On.a)(["\n    query DetailJourney($id:ID!){\n        journey(id:$id){\n            id\n            dateCreated\n            numJourney\n            price\n            devise\n            dateDeparture\n            dateReturn\n            hoursReturn\n            hoursDeparture\n            isDirect\n            exprired\n            numberOfPlacesReserved\n            routeNames\n            trajets{\n                label\n                value\n            }\n            routes{\n                edges{\n                    node{\n                    whereFrom{\n                        town\n                        code\n                    }\n                    whereTo{\n                        town\n                        code\n                    }\n                    }\n                }\n            }\n            cars{\n                codeAppareil\n                configCab{\n                    numberOfSeats\n                }\n            }\n        }\n    }\n"]))),gn=Object(xn.a)(cn||(cn=Object(On.a)(["\n    query DetailJourneySelected($id:ID!){\n        journeySelected(id:$id){\n            id\n            numberAdult\n            numberChild\n            numberBaby\n            lastStep\n            session {\n                key\n            }\n            payment{\n                id\n                provider\n                confirmed\n                costTotal\n                datePayment\n            }\n            otherInfo{\n                id\n                firstname\n                middlename\n                lastname\n                email\n                numTelEmergency\n                pieceId\n                numPieceId\n                adressFrom\n                adressTo\n                birthDay\n            }\n            passengers{\n            edges{\n                node{\n                id\n                firstname\n                middlename\n                lastname\n                birthDay\n                gender\n                typeUser\n                dateCreated\n                }\n            }\n            }\n            journey {\n                id\n                price\n                numJourney\n                devise\n                routeNames\n                trajets{\n                    label\n                    value\n                }\n                journeyRoutes {\n                    edges {\n                    node {\n                        id\n                        price\n                        devise\n                        journeySeatsReserved {\n                        edges {\n                            node {\n                            expired\n                            seat {\n                                id\n                            }\n                            passenger {\n                                id\n                            }\n                            }\n                        }\n                        }\n                        route {\n                            id\n                            whereFrom {\n                                id\n                                town\n                            }\n                            whereTo {\n                                id\n                                town\n                            }\n                        }\n                    }\n                    }\n                }\n                cars {\n                    configCab{\n                        name\n                        devMod\n                        x\n                        y\n                        clipboard\n                        numberOfSeats\n                        seats{\n                        edges{\n                            cursor\n                            node{\n                            id\n                            x\n                            y\n                            name\n                            type\n                            }\n                        }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),yn=Object(xn.a)(on||(on=Object(On.a)(["\n    query getJourneyHomePresentationCompany($company:Float){\n        journies(company_Id:$company){\n            pageInfo{\n                hasNextPage\n                hasPreviousPage\n                startCursor\n                endCursor\n            }\n            edges{\n                cursor\n                node{\n                    id\n                    numJourney\n                    price\n                    devise\n                    dateReturn\n                    dateDeparture\n                    hoursDeparture\n                    hoursReturn\n                    routeNames\n                    cars{\n                        codeAppareil\n                        immatriculation\n                        typeAppareil\n                    }\n                    company{\n                        id\n                        nom\n                        code\n                    }\n                    \n                }\n            }\n        }\n    }\n"]))),Cn=Object(oe.a)((function(e){return Object(se.a)({item:{display:"flex"},iconImg:{width:30,display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"space-around",justifyContent:"space-evenly",alignItems:"stretch"}})})),Sn=function(e){var n=Cn();return Object(ae.jsxs)("div",{className:n.item,children:[e.option.code&&Object(ae.jsxs)("div",{className:n.iconImg,children:[Object(ae.jsx)(pn.a,{}),Object(ae.jsx)(de.a,{variant:"caption",color:"initial",children:e.option.code})]}),Object(ae.jsx)(de.a,{variant:"subtitle1",color:"initial",children:e.option.town})]})},Tn=function(e){var n=r.a.useState(!1),t=Object(g.a)(n,2),a=t[0],i=t[1],c=r.a.useState([]),o=Object(g.a)(c,2),s=o[0],l=o[1],u=Object(hn.a)(fn),d=u.data,j=u.loading,b=r.a.useCallback((function(){return i(!1)}),[]),m=r.a.useCallback((function(){return i(!0)}),[]);return r.a.useEffect((function(){}),[j]),r.a.useEffect((function(){a||l([])}),[a]),console.log("data",d),Object(ae.jsx)(bn.a,{freeSolo:!0,id:"free-solo-2-demo-input",disableClearable:!0,open:a,loading:j,onOpen:m,onClose:b,onChange:e.onChange,getOptionLabel:function(e){return e.town},options:s,renderOption:function(e,n){var t=n.selected;return Object(ae.jsx)(Sn,{option:e,selected:t})},renderInput:function(n){return Object(ae.jsx)(jn.a,Object(v.a)(Object(v.a)({},n),{},{label:e.label,size:"small",margin:"normal",variant:"outlined",name:e.name,InputProps:Object(v.a)(Object(v.a)({},n.InputProps),{},{type:"search"})}))}})},Dn=t(666),kn=function(e){var n=e.label,t=void 0===n?"Date":n,a=Object(Le.a)(e,["label"]),i=r.a.useMemo((function(){return $e()().format("YYYY-MM-DD")}),[]),c=r.a.useState($e()(a.value).format("YYYY-MM-DD")||i),o=Object(g.a)(c,2),s=o[0],l=o[1];return Object(ae.jsx)(Dn.a,{InputProps:{fullWidth:!0,style:{fontSize:13}},style:a.style,disablePast:!0,fullWidth:!0,size:"small",variant:"inline",format:"YYYY-MM-DD",margin:"normal",id:"date-picker-inline",label:t,value:s,maxDate:a.maxDate,minDate:a.minDate,helperText:a.helperText,onChange:function(e){!function(e){l(e),a.onChange(null===e||void 0===e?void 0:e.format("YYYY-MM-DD").toString())}(e)},KeyboardButtonProps:{"aria-label":"change date"}})},wn=r.a.memo(kn),Pn=Object(oe.a)((function(e){return Object(se.a)({root:{padding:e.spacing(2)},title:{fontWeight:"bold"}})})),In=function(e){var n=Pn(),t=Object(s.f)(),r=Object(a.useMemo)((function(){return{dateDeparture:$e()().format("YYYY-MM-DD"),dateReturn:$e()().format("YYYY-MM-DD"),onlyDirect:!0,passengers:Ze,whereFrom:"",whreTo:""}}),[]);return Object(ae.jsxs)(Re.a,{className:n.root,children:[Object(ae.jsx)(de.a,{className:n.title,variant:"subtitle1",color:"initial",children:"Voyage"}),Object(ae.jsx)(Me.a,{initialValues:r,onSubmit:function(e,n){n.setSubmitting(!0),t.push(w.a.stringifyUrl({url:"/search",query:Object(v.a)({dateDeparture:e.dateDeparture,dateReturn:e.dateReturn,onlyDirect:e.onlyDirect,whereFrom:e.whereFrom,whreTo:e.whreTo},e.passengers)}))},children:function(e){var n=e.values,t=e.handleChange,a=e.setFieldValue,r=e.handleSubmit;return Object(ae.jsxs)("form",{onSubmit:r,children:[Object(ae.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ae.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(ae.jsx)(Tn,{label:"Ville de depart",name:"whereFrom",onChange:function(e,n){a("whereFrom",n.town)}})}),Object(ae.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(ae.jsx)(Tn,{label:"Ville d'arriver",name:"whreTo",onChange:function(e,n){return a("whreTo",n.town)}})})]}),Object(ae.jsxs)(we.a,{container:!0,spacing:4,children:[Object(ae.jsx)(we.a,{item:!0,xs:6,children:Object(ae.jsx)(wn,{maxDate:$e()(n.dateDeparture).format("YYYY-MM-DD"),label:"Date de depart",onChange:function(e){return a("dateDeparture",e)},helperText:"commencer par la date d'arriver"})}),Object(ae.jsx)(we.a,{item:!0,xs:6,children:Object(ae.jsx)(wn,{minDate:$e()(n.dateReturn).format("YYYY-MM-DD"),label:"Date d'arriver",onChange:function(e){return a("dateReturn",e)}})})]}),Object(ae.jsxs)(we.a,{container:!0,spacing:4,children:[Object(ae.jsx)(we.a,{item:!0,xs:6,children:Object(ae.jsx)(dn,{value:n.passengers,onChange:function(e){return a("passengers",e)}})}),Object(ae.jsx)(we.a,{item:!0,xs:6,children:Object(ae.jsx)(Be.a,{control:Object(ae.jsx)(Ee.a,{checked:n.onlyDirect,onChange:t,name:"onlyDirect",color:"primary"}),label:"Aller simple"})})]}),Object(ae.jsx)("div",{style:{marginTop:20},children:Object(ae.jsx)(Ne.a,{type:"submit",variant:"contained",color:"primary",disableElevation:!0,children:"Search"})})]})}})]})},qn=t(649),Rn=t(650),Bn=t(691),En=t(699),Nn=t(692),An=t(82),$n=t(684),Mn=t(546),Ln=t(211),zn=t.n(Ln),Yn=t(331),Fn=t.n(Yn);function Vn(e){return Object(ae.jsx)(Bn.a,{sx:{minWidth:275},elevation:2,children:Object(ae.jsx)(En.a,{onClick:e.onClick,children:Object(ae.jsxs)(Nn.a,{children:[Object(ae.jsxs)(Mn.a,{direction:"row",spacing:1,justifyContent:"space-between",marginBottom:1,children:[Object(ae.jsx)($n.a,{icon:Object(ae.jsx)(Fn.a,{fontSize:"small"}),label:e.hourDeparture,variant:"outlined"}),Object(ae.jsx)($n.a,{label:e.price,color:"primary",variant:"outlined"})]}),Object(ae.jsx)(An.a,{sx:{fontSize:12},color:"text.secondary",gutterBottom:!0,children:e.dateDeparture}),Object(ae.jsx)(An.a,{variant:"h5",component:"div",children:e.routeNames}),Object(ae.jsxs)(Mn.a,{direction:"row",spacing:1,marginTop:2,children:[Object(ae.jsx)(zn.a,{color:"primary"}),Object(ae.jsx)(An.a,{sx:{mb:1.5},color:"text.secondary",children:e.busNumber})]})]})})})}var _n,Un,Wn,Gn,Jn=Object(oe.a)((function(e){return Object(se.a)({root:{marginTop:e.spacing(5)},gridList:{},title:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}})})),Hn=function(e){var n,t=Jn();return Object(ae.jsxs)("div",{className:t.root,children:[Object(ae.jsxs)(de.a,{className:t.title,variant:"h6",color:"primary",children:[e.title," voyages"]}),Object(ae.jsx)(qn.a,{cellHeight:"auto",cols:3,className:t.gridList,spacing:4,children:null===(n=e.voyages)||void 0===n?void 0:n.map((function(n,t){return Object(ae.jsx)(Rn.a,{cols:1,children:Object(ae.jsx)(Vn,{price:"".concat(n.price," ").concat(n.devise),busNumber:n.cars.codeAppareil,dateDeparture:"Le ".concat(n.dateDeparture),routeNames:n.routeNames,hourDeparture:n.hoursDeparture,onClick:function(){e.onClik&&e.onClik(n)}})},t)}))})]})},Qn=Object(oe.a)((function(e){return Object(se.a)({root:{marginTop:e.spacing(3),padding:e.spacing(2),backgroundColor:e.palette.background.paper},title:{marginBottom:e.spacing(2)}})})),Kn=function(){var e=Qn();return Object(ae.jsxs)("div",{className:e.root,children:[Object(ae.jsx)(de.a,{className:e.title,variant:"h6",color:"textPrimary",children:"Apropos de Ttm company"}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"textSecondary",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"textSecondary",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"textSecondary",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"textSecondary",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"})]})]})},Xn=Object(oe.a)((function(e){return Object(se.a)({root:{marginTop:e.spacing(3),padding:e.spacing(2),backgroundColor:"#29292b",color:"#fff"},title:{marginBottom:e.spacing(2)}})})),Zn=function(){var e=Xn();return Object(ae.jsxs)("div",{className:e.root,children:[Object(ae.jsx)(de.a,{className:e.title,variant:"h6",color:"inherit",children:"Apropos de Ttm company"}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"inherit",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"inherit",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"inherit",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"}),Object(ae.jsx)(de.a,{component:"p",variant:"body1",color:"inherit",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui incidunt accusamus, consequuntur, doloremque quasi distinctio error, nam nobis enim rerum pariatur corrupti nesciunt ad illo minus eius quas iusto maiores?"})]})]})},et=function(e){var n=e.children,t=e.data,a=e.error;return e.loading?Object(ae.jsx)("div",{children:"loading..."}):a?Object(ae.jsx)("div",{children:"Error !"}):Object(ae.jsx)("div",{children:n(t)})},nt=function(e){var n=D().company,t=function(e){return Object(hn.a)(yn,{variables:{company:e}})}(1),a=t.data,i=t.loading,c=t.error,o=r.a.useCallback((function(n){return e.history.push("/j/".concat(n.id))}),[e.history]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(qe,{children:Object(ae.jsx)(In,{})}),Object(ae.jsxs)(je.a,{maxWidth:"md",style:{marginTop:20},children:[Object(ae.jsx)(et,{data:a,loading:i,error:c,children:function(e){return Object(ae.jsx)(Hn,{title:null===n||void 0===n?void 0:n.nom,voyages:e.journies.edges.map((function(e){return e.node})),onClik:o})}}),Object(ae.jsx)(Kn,{})]}),Object(ae.jsx)(Zn,{})]})},tt=t(690),at=t(694),rt=t(683),it=t(664),ct=t(693),ot=t(678),st=t(651),lt=t(554),ut=t(153),dt=function(e){return Object(ae.jsx)(ct.a,{children:Object(ae.jsx)(ot.a,{secondaryAction:(null===e||void 0===e?void 0:e.value2)&&Object(ae.jsx)(An.a,{children:null===e||void 0===e?void 0:e.value2}),children:Object(ae.jsx)(st.a,{primary:Object(ae.jsx)(An.a,{variant:"caption",display:"block",gutterBottom:!0,children:e.title}),secondary:Object(ae.jsx)(An.a,{children:e.value1})})})})},jt=a.forwardRef((function(e,n){var t=a.useMemo((function(){return{adult:1,baby:0,child:0}}),[]);return Object(ae.jsx)(ut.a,{sx:{display:"flex",justifyContent:"center"},children:Object(ae.jsx)(Me.a,{innerRef:n,initialValues:t,onSubmit:function(n){e.onSubmit&&e.onSubmit(n)},children:function(e){var n=e.values,t=e.handleChange;e.errors;return Object(ae.jsxs)(Mn.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(ae.jsx)(it.a,{label:"Nombre d'adulte",size:"small",type:"number",variant:"outlined",name:"adult",value:n.adult,onChange:t}),Object(ae.jsx)(it.a,{label:"Nombre d'enfant",size:"small",type:"number",variant:"outlined",name:"child",value:n.child,onChange:t}),Object(ae.jsx)(it.a,{label:"Nombre de bebe",size:"small",type:"number",variant:"outlined",name:"baby",value:n.baby,onChange:t})]})}})})})),bt=function(e){var n,t,r=a.useState(!1),i=Object(g.a)(r,2),c=i[0],o=i[1],s=a.useRef(null);return Object(ae.jsxs)(Bn.a,{sx:{width:"100%"},children:[Object(ae.jsxs)(ut.a,{sx:{position:"relative"},children:[Object(ae.jsx)(at.a,{component:"img",height:"100",image:Pe,alt:"green iguana"}),Object(ae.jsx)(ut.a,{sx:{position:"absolute",top:0,left:0,height:"100%",backgroundImage:"linear-gradient(357deg,transparent 0%,#0701128c 80%)",width:"100%",p:1},children:Object(ae.jsxs)(Mn.a,{direction:"row",spacing:1,alignItems:"center",sx:{color:"#fff"},children:[Object(ae.jsx)(zn.a,{}),Object(ae.jsx)(An.a,{color:"white",gutterBottom:!0,variant:"subtitle2",children:"Detail du voyage"})]})})]}),Object(ae.jsx)(Nn.a,{children:Object(ae.jsxs)("div",{style:{marginTop:2},children:[Object(ae.jsx)(ut.a,{style:{marginLeft:15},children:Object(ae.jsx)(An.a,{gutterBottom:!0,variant:"h6",children:e.routes})}),Object(ae.jsxs)(rt.a,{container:!0,spacing:4,children:[Object(ae.jsx)(rt.a,{item:!0,xs:6,children:Object(ae.jsx)(ct.a,{dense:!0,children:null===e||void 0===e||null===(n=e.rightInfo)||void 0===n?void 0:n.map((function(e,n){return Object(ae.jsx)(dt,Object(v.a)({},e),n)}))})}),Object(ae.jsxs)(rt.a,{item:!0,xs:6,children:[Object(ae.jsx)(ct.a,{dense:!0,children:null===e||void 0===e||null===(t=e.leftInfo)||void 0===t?void 0:t.map((function(e,n){return Object(ae.jsx)(dt,Object(v.a)({},e),n)}))}),Object(ae.jsx)(ut.a,{sx:{width:"100%",display:"flex",justifyContent:"right"},children:Object(ae.jsxs)(Mn.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(ae.jsx)(lt.a,{onClick:function(){return o((function(e){return!e}))},children:c?"Annuler":"Reserver"}),c&&Object(ae.jsx)(lt.a,{disabled:e.loading,onClick:function(){s.current&&s.current.handleSubmit()},children:"Reserver"})]})})]})]}),c&&Object(ae.jsx)(jt,{onSubmit:e.onSubmit,ref:s})]})})]})},mt=t(695),pt=Object(xn.a)(_n||(_n=Object(On.a)(["\n    mutation SelectJourney($journey:String!, $adult:Int,$child:Int, $baby: Int ){\n        selectJourney(input:{\n            numberAdult:$adult,\n            numberChild:$child,\n            numberBaby:$baby,\n            journey : $journey,\n        }){\n            id\n            numberAdult\n            numberChild\n            numberBaby\n            lastStep\n            sessionKey\n            folder\n            errors{\n                field\n                messages\n            }\n        }\n    }\n"]))),ht=(Object(xn.a)(Un||(Un=Object(On.a)(["\n  mutation ValidePayement(\n      $session :String!,\n      $provider: String!\n      $confirmed: Boolean!\n      $costTotal: String!\n      $datePayment: DateTime!\n    ) {\n      validePayement(\n        input: {\n          session:$session,\n          provider: $provider\n          confirmed: $confirmed\n          costTotal: $costTotal\n          datePayment: $datePayment\n        }\n      ) {\n        id\n        provider\n        confirmed\n        costTotal\n        datePayment\n        errors {\n          field\n          messages\n        }\n      }\n  }\n"]))),Object(xn.a)(Wn||(Wn=Object(On.a)(["\n  mutation DetailInfosMuation(\n    $session:String!,\n    $firstname: String!,\n    $middlename: String!,\n    $lastname: String!,\n    $email: String!,\n    $numTelEmergency: String!,\n    $pieceId: String!,\n    $numTel:String!,\n    $numPieceId: String!,\n    $adressFrom: String!,\n    $adressTo: String!,\n    $degreParent:String!,\n    $birthDay: Date!,\n    $id: Int\n  ) {\n    infoDetails(\n      input: {\n        session:$session,\n        firstname: $firstname,\n        middlename: $middlename,\n        lastname: $lastname,\n        email: $email,\n        numTel : $numTel,\n        numTelEmergency: $numTelEmergency,\n        pieceId: $pieceId,\n        numPieceId: $numPieceId,\n        degreParent :$degreParent,\n        adressFrom: $adressFrom,\n        adressTo: $adressTo,\n        birthDay: $birthDay,\n        id: $id\n      }\n    ) {\n      id\n      firstname\n      middlename\n      lastname\n      degreParent\n      email\n      numTel\n      numTelEmergency\n      pieceId\n      numPieceId\n      adressFrom\n      adressTo\n      birthDay\n      dateCreated\n      errors {\n        field\n        messages\n      }\n    }\n  }\n\n"])))),Ot=Object(xn.a)(Gn||(Gn=Object(On.a)(["\n    mutation OnReserveInfoPassengers($session:String!, $passengers : [PassengerSerializerInput]!){\n  reserveInfoPassengers(input:{\n    session :$session,\n    passengers : $passengers\n  }){\n    errors{\n      field\n      messages\n    }\n    journeySelected{\n      id\n      lastStep\n      passengers{\n        edges{\n          cursor\n          node{\n            id\n            firstname\n            middlename\n            lastname\n            typeUser\n            birthDay\n            gender\n          }\n        }\n      }\n    }\n  }\n}\n"]))),xt=function(e){return Object(mt.a)(e)},ft=t(689),vt=function(e){var n,t=xt(pt),a=Object(g.a)(t,2),i=a[0],c=a[1].loading,o=(n=e.match.params.id,Object(hn.a)(vn,{variables:{id:n}})),s=o.data,l=o.loading,u=o.error;console.log(s);var d=r.a.useCallback((function(e){return e.map((function(e){return e.label})).join(" - ")}),[]),j=r.a.useMemo((function(){if(s){var e=s.journey,n=d(e.trajets);return{rightInfo:[{title:"Date de depart",value1:e.dateDeparture,value2:e.hoursDeparture},{title:"Date d'arrivee",value1:e.dateReturn,value2:e.hoursReturn},{title:"Prix",value1:e.price,value2:e.devise}],leftInfo:[{title:"Voiture",value1:e.cars.codeAppareil},{title:"Place total",value1:e.cars.configCab.numberOfSeats},{title:"Place reservee",value1:e.numberOfPlacesReserved}],routes:n,isDirect:e.isDirect,exprired:e.exprired}}return{rightInfo:[],leftInfo:[]}}),[s]),b=j.leftInfo,m=j.rightInfo,p=j.routes,h=r.a.useCallback((function(n){i({variables:Object(v.a)({journey:e.match.params.id},n)}).then((function(n){var t=n.data;e.history.push("/res/".concat(t.selectJourney.id))})).catch((function(e){console.log(e)}))}),[i,e.match.params.id,e.history]);return l?Object(ae.jsx)("div",{children:"loading..."}):u?Object(ae.jsx)("div",{children:"error ..."}):Object(ae.jsxs)(r.a.Fragment,{children:[Object(ae.jsx)(ft.a,{}),Object(ae.jsxs)(tt.a,{maxWidth:"md",style:{marginTop:20},children:[Object(ae.jsx)(bt,{routes:p,loading:c,onSubmit:h,rightInfo:m,leftInfo:b}),Object(ae.jsx)(Kn,{})]}),Object(ae.jsx)(Zn,{})]})},gt=t(679),yt=t(697),Ct=t(672),St=Object(oe.a)((function(e){return Object(se.a)({root:{width:"100%",marginTop:e.spacing(3),display:"flex",flexWrap:"wrap",alignContent:"space-around",justifyContent:"flex-end"},button:{marginRight:e.spacing(5)}})})),Tt=function(e){var n=e.currentStep,t=e.stepLenght,a=e.goNext,r=e.goPrivious,i=St();return Object(ae.jsxs)("div",{className:i.root,children:[Object(ae.jsx)(Ne.a,{className:i.button,disableElevation:!0,disabled:0===n,onClick:r,children:"Precendant"}),Object(ae.jsx)(Ne.a,{disableElevation:!0,variant:"contained",color:"primary",onClick:a,children:n===t-1?"Finir":"Suivant"})]})},Dt=t(700),kt=t(36),wt="chant requis!",Pt=kt.a().shape({firstname:kt.b().required(wt),middlename:kt.b().required(wt),lastname:kt.b().required(wt),gender:kt.b().required(wt),birthDay:kt.b().required(wt)}),It=r.a.forwardRef((function(e,n){var t=r.a.useMemo((function(){return Object(v.a)({birthDay:$e()().format("YYYY-MM-DD"),firstname:"",middlename:"",lastname:"",gender:"H",typeUser:e.type,key:e.keyId},e.value)}),[e.keyId,e.type,e.value]);return Object(ae.jsx)(Me.a,{innerRef:n,enableReinitialize:!0,initialValues:t,validationSchema:Pt,onSubmit:function(n){e.onSubmit&&e.onSubmit(n)},children:function(e){var n=e.values,t=e.handleChange,a=e.setFieldValue,i=e.errors;return Object(ae.jsxs)(r.a.Fragment,{children:[Object(ae.jsxs)(rt.a,{container:!0,spacing:1,style:{marginTop:10},children:[Object(ae.jsx)(rt.a,{item:!0,xs:4,children:Object(ae.jsx)(it.a,{error:Boolean(i.firstname),helperText:i.firstname,variant:"outlined",size:"small",name:"firstname",label:"Noms",value:n.firstname,onChange:t})}),Object(ae.jsx)(rt.a,{item:!0,xs:4,children:Object(ae.jsx)(it.a,{error:Boolean(i.middlename),helperText:i.middlename,variant:"outlined",size:"small",name:"middlename",label:"Postnom",value:n.middlename,onChange:t})}),Object(ae.jsx)(rt.a,{item:!0,xs:4,children:Object(ae.jsx)(it.a,{error:Boolean(i.lastname),helperText:i.lastname,variant:"outlined",size:"small",name:"lastname",label:"Prenom",value:n.lastname,onChange:t})})]}),Object(ae.jsxs)(rt.a,{container:!0,spacing:2,children:[Object(ae.jsx)(rt.a,{item:!0,xs:5,children:Object(ae.jsx)(wn,{style:{marginTop:10},label:"Date de naissance",onChange:function(e){return a("birthDay",e)}})}),Object(ae.jsx)(rt.a,{item:!0,xs:4,children:Object(ae.jsxs)(it.a,{style:{marginBottom:8},select:!0,size:"small",name:"gender",label:"Sexe",value:n.gender,onChange:t,children:[Object(ae.jsx)(Dt.a,{value:"F",children:"F"}),Object(ae.jsx)(Dt.a,{value:"H",children:"H"}),Object(ae.jsx)(Dt.a,{value:"I",children:"INDERTERMINE"})]})})]})]})}})})),qt={passengers:[],session:"",lastStep:0,activeStep:0,selectedPassenger:null,trajets:[],cars:null,adult:1,baby:0,child:0,id:null};function Rt(e,n){switch(console.log(n),n.type){case"set_step":return Object(v.a)(Object(v.a)({},e),{},{lastStep:n.payload});case"set_session":return Object(v.a)(Object(v.a)({},e),{},{session:n.payload});case"set_active_step":return Object(v.a)(Object(v.a)({},e),{},{activeStep:n.payload});case"set_seating":var t=n.payload.lastStep;return Object(v.a)(Object(v.a)({},e),{},{lastStep:t,activeStep:t,passengers:n.payload.passengers,cars:n.payload.cars,journeySeats:n.payload.journeySeats});case"initialise":return Object(v.a)(Object(v.a)({},e),n.payload);default:return e}}var Bt=a.createContext(qt),Et=function(e){var n=e.children,t=e.value,r=a.useReducer(Rt,qt),i=Object(g.a)(r,2),c=i[0],o=i[1],s=a.useCallback((function(e){return o(e)}),[]);return a.useEffect((function(){o({type:"initialise",payload:t})}),[t]),Object(ae.jsx)(Bt.Provider,{value:Object(v.a)(Object(v.a)({},c),{},{setStep:s}),children:n})},Nt=function(e,n){var t=a.createRef(),r=void 0;if(n){var i=n.typeUser,c=(n.__typename,n.dateCreated,Object(Le.a)(n,["typeUser","__typename","dateCreated"]));r=Object(v.a)(Object(v.a)({},c),{},{typeUser:String(i).toLowerCase()})}return{ref:t,value:r,index:e+1}},At=a.forwardRef((function(e,n){var t=a.useContext(Bt),r=t.session,i=t.passengers,c=t.adult,o=t.child,s=t.baby,l=t.setStep,u=M(),d=u.currentStep,j=u.goPrivious,b=xt(Ot),m=Object(g.a)(b,1)[0],p=a.useCallback((function(e,n){var t=null===i||void 0===i?void 0:i.filter((function(e){return e.typeUser===n})).map((function(e,n){return Nt(n,e)}));return(null===t||void 0===t?void 0:t.length)===e?t:Array.from(Array(e).keys()).map((function(e,n){return Nt(n)}))}),[i]),h=a.useMemo((function(){return p(c,"ADULT")}),[c,p]),O=a.useMemo((function(){return p(s,"BABY")}),[s,p]),x=a.useMemo((function(){return p(o,"CHILD")}),[o,p]),f=a.useCallback((function(e){for(var n=[],t=0;t<e.length;t++){var a=e[t];if(!a)return;if(!a.isValid)return;var i=a.values,c=(i.key,i.typeUser),o=Object(Le.a)(i,["key","typeUser"]);n.push(Object(v.a)(Object(v.a)({},o),{},{typeUser:c.toUpperCase()}))}m({variables:{session:r,passengers:n}}).then((function(e){var n,t,a=e.data.reserveInfoPassengers.journeySelected;l&&l({type:"set_seating",payload:{lastStep:a.lastStep,activeStep:a.lastStep,journeySeats:null===(n=a.journey.journeySeats.edges)||void 0===n?void 0:n.map((function(e){return e.node})),passengers:null===(t=a.passengers.edges)||void 0===t?void 0:t.map((function(e){return e.node})),cars:a.journey.cars}})})).catch((function(e){var n;console.log(null===(n=e.networkError)||void 0===n?void 0:n.result),console.log(JSON.stringify(e))}))}),[m,r,l]),y=a.useCallback((function(){var e=h.map((function(e){return e.ref.current})).concat(x.map((function(e){return e.ref.current}))).concat(O.map((function(e){return e.ref.current})));e.map((function(e){return null===e||void 0===e?void 0:e.handleSubmit()})),f(e)}),[h,O,x,f]);return Object(ae.jsx)("div",{children:Object(ae.jsxs)(je.a,{maxWidth:"md",children:[Object(ae.jsxs)("div",{style:{marginTop:30},children:[Object(ae.jsxs)(de.a,{variant:"h6",children:["Adultes (",c,")"]}),Object(ae.jsx)(we.a,{container:!0,spacing:1,children:h.map((function(e){return Object(ae.jsx)(we.a,{item:!0,style:{marginTop:0},children:Object(ae.jsxs)(Re.a,{variant:"outlined",style:{padding:15},children:[Object(ae.jsxs)(de.a,{children:["Adult (",e.index,")"]}),Object(ae.jsx)(It,{type:"adult",keyId:"adult"+e.index,ref:e.ref,value:e.value})]})},e.index)}))})]}),Object(ae.jsxs)("div",{style:{marginTop:30},children:[Object(ae.jsxs)(de.a,{variant:"h6",children:["Enfant (",o,")"]}),Object(ae.jsx)(we.a,{container:!0,spacing:1,children:x.map((function(e){return Object(ae.jsx)(we.a,{item:!0,style:{marginTop:20},children:Object(ae.jsxs)(Re.a,{variant:"outlined",style:{padding:15},children:[Object(ae.jsxs)(de.a,{children:["Enfant (",e.index,")"]}),Object(ae.jsx)(It,{type:"child",keyId:"child"+e.index,ref:e.ref,value:e.value})]})},e.index)}))})]}),Object(ae.jsxs)("div",{style:{marginTop:30},children:[Object(ae.jsxs)(de.a,{variant:"h6",children:["Bebe (",s,")"]}),Object(ae.jsx)(we.a,{container:!0,spacing:1,children:O.map((function(e){return Object(ae.jsx)(we.a,{item:!0,style:{marginTop:20},children:Object(ae.jsxs)(Re.a,{variant:"outlined",style:{padding:15},children:[Object(ae.jsxs)(de.a,{children:["Bebe (",e.index,")"]}),Object(ae.jsx)(It,{type:"baby",keyId:"baby"+e.index,ref:e.ref,value:e.value})]})},e.index)}))})]}),Object(ae.jsx)(Tt,{stepLenght:5,currentStep:d,goNext:y,goPrivious:j})]})})})),$t=t(698),Mt=t(659),Lt=t(671),zt=a.forwardRef((function(e,n){var t=e.onSubmit,r=e.initialValues,i=a.useMemo((function(){return Object(v.a)({confirmed:null,provider:null,costTotal:0,session:null},r)}),[r]);return Object(ae.jsx)("div",{children:Object(ae.jsx)(Me.a,{innerRef:n,initialValues:i,onSubmit:function(e,n){t&&t(e,n)},children:function(e){var n=e.values;return Object(ae.jsx)(ut.a,{children:Object(ae.jsx)(An.a,{textAlign:"center",variant:"h3",children:n.costTotal})})}})})})),Yt=function(e){var n=e.refInput,t=e.initialValue,a=e.onSubmit;return Object(ae.jsx)(zt,{ref:n,initialValues:t,onSubmit:a})},Ft=function(e){var n=e.image,t=e.title,a=e.selected,r=e.onSelect;return Object(ae.jsx)(ut.a,{margin:1,children:Object(ae.jsxs)(Mn.a,{flexDirection:"row",alignItems:"center",children:[Object(ae.jsx)(Lt.a,{checked:a}),Object(ae.jsx)(Bn.a,{variant:"outlined",sx:{"& .MuiCardContent-root:last-child":{padding:0},"& .MuiCardContent-root":{padding:0}},children:Object(ae.jsx)(Nn.a,{children:Object(ae.jsx)(En.a,{onClick:r,sx:{p:3,display:"flex",justifyContent:"center",alignItems:"center"},children:n?Object(ae.jsx)("img",{alt:"log",src:n,height:40,width:60}):Object(ae.jsx)(An.a,{height:40,width:60,textAlign:"center",color:"GrayText",variant:"subtitle2",children:t})})})})]})})},Vt=[{title:"Payment en cash"}],_t=a.forwardRef((function(e,n){var t=e.initialValue,r=e.onSubmit,i=a.useState(0),c=Object(g.a)(i,2),o=c[0],s=c[1];return Object(ae.jsxs)(ut.a,{sx:{p:4},children:[Object(ae.jsx)(Mn.a,{flexDirection:"row",flexWrap:"wrap",children:Vt.map((function(e,n){return Object(ae.jsx)(Ft,{onSelect:function(){s(n)},image:null===e||void 0===e?void 0:e.image,title:e.title,selected:n===o},n)}))}),Object(ae.jsx)(ut.a,{marginTop:3,marginBottom:3,children:Object(ae.jsx)(Yt,{refInput:n,initialValue:t,onSubmit:r})})]})})),Ut=a.memo(_t),Wt=function(e){var n=e.label,t=e.value,a=e.divider,r=e.description;return Object(ae.jsxs)(ut.a,{marginTop:1,marginBottom:1,children:[a&&Object(ae.jsx)(Mt.a,{}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(ae.jsx)(An.a,{variant:"overline",children:n.toLocaleUpperCase()}),Object(ae.jsx)(An.a,{variant:"subtitle2",children:t})]}),r&&Object(ae.jsx)(An.a,{color:"GrayText",variant:"caption",children:r})]})},Gt=r.a.forwardRef((function(e,n){var t=e.items;return Object(ae.jsxs)(ut.a,{children:[Object(ae.jsx)(An.a,{marginBottom:1,variant:"subtitle2",children:"Sommaire"}),Object(ae.jsx)(An.a,{marginBottom:3,variant:"caption",color:"GrayText",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repellat sunt cum at"}),t.map((function(e,n){return Object(ae.jsx)(Wt,Object(v.a)({},e),n)}))]})})),Jt=r.a.memo(Gt),Ht=function(e){var n=r.a.useRef(null),t=r.a.useContext(Bt).session,a=r.a.useMemo((function(){return{session:t,confirmed:!1,costTotal:"2345 USD",provider:"CASH"}}),[t]),i=r.a.useCallback((function(e,n){console.log(e,n)}),[]),c=r.a.useCallback((function(){var e;return null===(e=n.current)||void 0===e?void 0:e.handleSubmit()}),[]);return Object(ae.jsxs)(tt.a,{maxWidth:"sm",children:[Object(ae.jsx)(Mt.a,{}),Object(ae.jsx)("br",{}),Object(ae.jsx)(Ut,{onSubmit:i,initialValue:a,ref:n}),Object(ae.jsx)($t.a,{elevation:0,sx:{p:2,backgroundColor:"#f5f5f5",mb:3},children:Object(ae.jsx)(Jt,{items:[{label:"adults",value:"234 usd",description:"23 adults pour deux trajet de kasungami"},{label:"enfants",value:"234 usd",description:"23 adults pour deux trajet de kasungami"},{label:"Total",value:"2345 usd",divider:!0}]})}),Object(ae.jsx)(lt.a,{fullWidth:!0,variant:"contained",disableElevation:!0,onClick:c,children:"Confirmer le payement"})]})},Qt=t(701),Kt=t(704),Xt=t(702),Zt=t(703),ea=t(662),na=t(342),ta=t.n(na),aa=t(660),ra=t(661),ia=t(338),ca=t(84),oa=r.a.forwardRef((function(e,n){var t=e.users,a=e.config,i=e.onSelectPlace,c=e.clientActionButtonGroup,o=r.a.useRef(),s=r.a.useState(!1),l=Object(g.a)(s,2),u=l[0],d=l[1],j=r.a.useState(null),b=Object(g.a)(j,2),m=b[0],p=b[1],h=r.a.useState(void 0),O=Object(g.a)(h,2),x=O[0],f=O[1],v=r.a.useCallback((function(){return d(!0)}),[]),y=r.a.useCallback((function(){d(!1),p(null)}),[]),C=r.a.useCallback((function(e,n,t,a){console.log(e,n,t,a),p(t),v()}),[v]),S=r.a.useCallback((function(){var e,n=o.current.values;n&&(null===(e=o.current)||void 0===e||e.handlerDispatch(n.type,n.data)),i&&i(n),y()}),[y,i]);return r.a.useEffect((function(){if(t&&(null===t||void 0===t?void 0:t.length)>0){var e=t[0];f(e)}}),[t]),r.a.useImperativeHandle(n,(function(){return{selected:x,values:o}})),Object(ae.jsx)("div",{children:Object(ae.jsxs)(rt.a,{container:!0,spacing:0,children:[Object(ae.jsxs)(rt.a,{item:!0,xs:3,children:[Object(ae.jsx)(An.a,{variant:"subtitle2",children:"Passagers"}),Object(ae.jsx)(ct.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:null===t||void 0===t?void 0:t.map((function(e,n){var t="checkbox-list-label-".concat(null===e||void 0===e?void 0:e.id);return Object(ae.jsx)(ot.a,{disablePadding:!0,children:Object(ae.jsxs)(aa.a,{role:void 0,onClick:function(){return f(e)},dense:!0,children:[Object(ae.jsx)(ra.a,{children:(null===e||void 0===e?void 0:e.id)===(null===x||void 0===x?void 0:x.id)&&Object(ae.jsx)(ta.a,{fontSize:"small",color:"success"})}),Object(ae.jsx)(st.a,{id:t,primary:e.firstname,secondary:e.lastname})]})},n)}))})]}),Object(ae.jsxs)(rt.a,{item:!0,xs:9,children:[Object(ae.jsx)(ia.ClientPlaceReservations,{ref:o,configuration:a,user:(null===x||void 0===x?void 0:x.id)||"inconnito",actions:C,clientActionButtonGroup:c}),Object(ae.jsxs)(Qt.a,{open:u,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(ea.a,{id:"alert-dialog-title",children:"Reservation places"}),Object(ae.jsxs)(Xt.a,{children:[Object(ae.jsxs)(rt.a,{container:!0,spacing:4,children:[Object(ae.jsxs)(rt.a,{item:!0,xs:6,children:[Object(ae.jsx)(An.a,{component:"h4",variant:"h6",children:"Passanger"}),Object(ae.jsx)("br",{}),Object(ae.jsxs)(An.a,{variant:"subtitle2",children:["Nom : ",null===x||void 0===x?void 0:x.firstname]}),Object(ae.jsxs)(An.a,{variant:"subtitle2",children:["Postnom : ",null===x||void 0===x?void 0:x.middlename]}),Object(ae.jsxs)(An.a,{variant:"subtitle2",children:["Prenom : ",null===x||void 0===x?void 0:x.lastname]}),Object(ae.jsxs)(An.a,{variant:"subtitle2",children:["Type : ",null===x||void 0===x?void 0:x.typeUser]})]}),Object(ae.jsxs)(rt.a,{item:!0,xs:6,children:[Object(ae.jsx)("br",{}),Object(ae.jsxs)(Mn.a,{flexDirection:"column",alignItems:"center",children:[Object(ae.jsx)(ca.a,{style:{height:100,width:100,marginBottom:5},modeDev:!0,variant:"contained",color:"success"}),Object(ae.jsxs)(An.a,{variant:"subtitle2",children:[null===m||void 0===m?void 0:m.id," / ",null===m||void 0===m?void 0:m.name]})]})]})]}),Object(ae.jsx)("br",{}),Object(ae.jsx)(Zt.a,{id:"alert-dialog-description",variant:"caption",justifyContent:"stretch",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque enim ipsam assumenda. Accusantium tempora molestiae fugiat officia. Aperiam officiis voluptate, suscipit itaque expedita, laborum in qui, exercitationem blanditiis a consequuntur."})]}),Object(ae.jsxs)(Kt.a,{children:[Object(ae.jsx)(lt.a,{onClick:y,children:"Annuler"}),Object(ae.jsx)(lt.a,{onClick:S,autoFocus:!0,children:"Valider"})]})]})]})]})})})),sa=function(e){var n,t=a.useRef(null),r=a.useContext(Bt),i=r.cars,c=(r.journeySeats,r.passengers),o=r.trajets,s=r.activeStep,l=a.useCallback((function(e){console.log("callback",e)}),[]),u=a.useCallback((function(){console.log("cars///...........",i,t)}),[i]);return Object(ae.jsx)("div",{children:Object(ae.jsx)(tt.a,{maxWidth:"md",children:i&&Object(ae.jsx)(oa,{ref:t,users:c,onSelectPlace:l,clientActionButtonGroup:Object(ae.jsx)(Tt,{stepLenght:5,currentStep:s,goNext:u,goPrivious:u}),config:{trajets:o,selectedTrajet:[0,o.length],clipboard:i.configCab.clipboard,devMod:!1,x:i.configCab.x,y:i.configCab.y,reservations:{},precomposition:null===(n=i.configCab.seats.edges)||void 0===n?void 0:n.map((function(e){var n=e.node;n.__typename;return Object(Le.a)(n,["__typename"])}))}})})})},la="requie!",ua=/^[a-z]+\/[a-z]+\/[a-z]+$/,da=kt.a().shape({firstname:kt.b().required(la),middlename:kt.b().required(la),lastname:kt.b().required(la),email:kt.b().email("email not valid").required(la),numTel:kt.b().required(la),numTelEmergency:kt.b().required(la),birthDay:kt.b().matches(/^[0-9]+-[0-9]+-[0-9]+$/,"la date non valide, par ex. 2021-07-30").required(la),degreParent:kt.b().required(la),pieceId:kt.b().required(la),numPieceId:kt.b().required(la),adressFrom:kt.b().matches(ua,"format no valide, veiller utiliser ce format! par ex. 23A/mitwaba/kenya").required(la),adressTo:kt.b().matches(ua,"format no valide, veiller utiliser ce format! par ex. 23A/mitwaba/kenya").required(la),gender:kt.b().required(la)}),ja=a.forwardRef((function(e,n){var t=e.onSubmit,r=e.initialValues,i=a.useMemo((function(){return Object(v.a)({firstname:"",middlename:"",lastname:"",email:"",numTel:"",numTelEmergency:"",degreParent:"",birthDay:"",gender:"H",pieceId:"",numPieceId:"",adressFrom:"",adressTo:""},r)}),[r]);return Object(ae.jsx)(ut.a,{children:Object(ae.jsx)(Me.a,{validationSchema:da,innerRef:n,initialValues:i,onSubmit:function(e,n){t&&t(e,n),console.log(e)},children:function(e){var n=e.values,t=e.handleChange,a=e.errors,r=e.touched,i=e.handleSubmit;return Object(ae.jsxs)(ut.a,{component:"form",sx:{"& .MuiTextField-root":{mr:1,mb:2,width:"100%"}},noValidate:!0,autoComplete:"off",onSubmit:i,children:[Object(ae.jsx)(An.a,{variant:"subtitle2",marginBottom:2,children:"Responsable*"}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",children:[Object(ae.jsx)(it.a,{id:"outlined-firstname",name:"firstname",value:n.firstname,label:"Nom",variant:"outlined",size:"small",onChange:t,error:Boolean(a.firstname&&r.firstname),helperText:a.firstname}),Object(ae.jsx)(it.a,{id:"outlined-middlename",name:"middlename",value:n.middlename,label:"Postnom",variant:"outlined",size:"small",onChange:t,error:Boolean(a.middlename&&r.middlename),helperText:a.middlename}),Object(ae.jsx)(it.a,{id:"outlined-middlename",name:"lastname",value:n.lastname,label:"Prenom",variant:"outlined",size:"small",onChange:t,error:Boolean(a.lastname&&r.lastname),helperText:a.lastname})]}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",children:[Object(ae.jsx)(it.a,{id:"outlined-degreParent",name:"degreParent",value:n.degreParent,label:"Degre de parente",variant:"outlined",size:"small",onChange:t,error:Boolean(a.degreParent&&r.degreParent),helperText:a.degreParent}),Object(ae.jsx)(it.a,{id:"outlined-birthDay",name:"birthDay",value:n.birthDay,label:"Date de naissance",variant:"outlined",size:"small",onChange:t,error:Boolean(a.birthDay&&r.birthDay),helperText:a.birthDay}),Object(ae.jsx)(it.a,{id:"outlined-gender",name:"gender",value:n.gender,label:"Sexe",variant:"outlined",size:"small",onChange:t,error:Boolean(a.gender&&r.gender),helperText:a.gender})]}),Object(ae.jsx)(An.a,{variant:"subtitle2",marginTop:2,marginBottom:2,children:"Contactes*"}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",children:[Object(ae.jsx)(it.a,{id:"outlined-numTel",name:"numTel",value:n.numTel,label:"Telephone",variant:"outlined",size:"small",onChange:t,error:Boolean(a.numTel&&r.numTel),helperText:a.numTel}),Object(ae.jsx)(it.a,{id:"outlined-email",name:"email",value:n.email,label:"Email",variant:"outlined",size:"small",onChange:t,error:Boolean(a.email&&r.email),helperText:a.email}),Object(ae.jsx)(it.a,{id:"outlined-numTelEmergency",name:"numTelEmergency",value:n.numTelEmergency,label:"Tel. en cas d'urgence",variant:"outlined",size:"small",onChange:t,error:Boolean(a.numTelEmergency&&r.numTelEmergency),helperText:a.numTelEmergency})]}),Object(ae.jsx)(An.a,{variant:"subtitle2",marginTop:2,marginBottom:2,children:"Piece d'identite*"}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",children:[Object(ae.jsx)(it.a,{id:"outlined-pieceId",name:"pieceId",className:"w100",value:n.pieceId,label:"Type de piece d'identite",variant:"outlined",size:"small",onChange:t,error:Boolean(a.pieceId&&r.pieceId),helperText:a.pieceId}),Object(ae.jsx)(it.a,{className:"w100",id:"outlined-numPieceId",name:"numPieceId",value:n.numPieceId,label:"Numero de la pience",variant:"outlined",size:"small",onChange:t,error:Boolean(a.numPieceId&&r.numPieceId),helperText:a.numPieceId})]}),Object(ae.jsx)(An.a,{variant:"subtitle2",marginTop:2,marginBottom:2,children:"Adresse*"}),Object(ae.jsxs)(Mn.a,{flexDirection:"row",children:[Object(ae.jsx)(it.a,{id:"outlined-adressFrom",name:"adressFrom",value:n.adressFrom,label:"Adress de depart",variant:"outlined",size:"small",onChange:t,error:Boolean(a.adressFrom&&r.adressFrom),helperText:a.adressFrom||"par ex. no/rue/comune ou quartier"}),Object(ae.jsx)(it.a,{id:"outlined-adressTo",name:"adressTo",value:n.adressTo,label:"Adress d'arrive",variant:"outlined",size:"small",onChange:t,error:Boolean(a.adressTo&&r.adressTo),helperText:a.adressTo||"par ex. no/rue/comune ou quartier"})]})]})}})})})),ba=r.a.forwardRef((function(e,n){var t=r.a.useContext(Bt),a=t.session,i=t.activeStep,c=xt(ht),o=Object(g.a)(c,1)[0],s=r.a.useRef(null),l=r.a.useCallback((function(e){var n=Object(v.a)(Object(v.a)({},e),{},{session:a,firstname:""});o({variables:n}).then((function(e){console.log("res",e.data)})).catch((function(e){console.log("error",e.networkError.result,JSON.stringify(e))})),console.log(n)}),[o,a]);return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(An.a,{variant:"h4",marginBottom:2,children:"Adresse details"}),Object(ae.jsx)(An.a,{variant:"body2",marginBottom:2,children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis culpa excepturi delectus corporis, nobis, error sit nisi modi eaque odit et officiis iste asperiores quo inventore aperiam. Nemo, ab voluptates!"}),Object(ae.jsxs)(rt.a,{container:!0,spacing:5,children:[Object(ae.jsx)(rt.a,{item:!0,xs:8,children:Object(ae.jsx)(ja,{ref:s,onSubmit:l})}),Object(ae.jsxs)(rt.a,{item:!0,xs:4,children:[Object(ae.jsx)(Jt,{items:[{label:"adults",value:"234 usd",description:"23 adults pour deux trajet de kasungami"},{label:"enfants",value:"234 usd",description:"23 adults pour deux trajet de kasungami"},{label:"Total",value:"2345 usd",divider:!0}]}),Object(ae.jsx)(Tt,{stepLenght:5,currentStep:i,goNext:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.handleSubmit()},goPrivious:function(){}})]})]})]})})),ma=r.a.memo(ba),pa=[{label:"Passagers",ContainerComponent:Object(ae.jsx)(At,{})},{label:"Seats",ContainerComponent:Object(ae.jsx)(sa,{})},{label:"Detail Adress",ContainerComponent:Object(ae.jsx)(ma,{})},{label:"Payments",ContainerComponent:Object(ae.jsx)(Ht,{})}];function ha(e){var n=r.a.useContext(Bt).activeStep,t=r.a.useMemo((function(){return n-1}),[n]),a=r.a.useCallback((function(){if(pa.length>0){var e=pa[t];if(e&&e.ContainerComponent)return e.ContainerComponent}return Object(ae.jsx)("div",{children:Object(ae.jsx)(An.a,{children:"Not Fram found"})})}),[t]);return Object(ae.jsxs)(tt.a,{maxWidth:"md",children:[Object(ae.jsx)(gt.a,{activeStep:t,alternativeLabel:!0,children:pa.map((function(e,n){return Object(ae.jsx)(yt.a,{children:Object(ae.jsx)(Ct.a,{children:e.label})},n)}))}),Object(ae.jsx)("div",{style:{marginBottom:30}}),t===pa.length?Object(ae.jsx)("div",{children:Object(ae.jsx)(An.a,{children:"All steps completed - you're finished"})}):Object(ae.jsx)("div",{children:a()})]})}var Oa=function(e){var n,t,a=(t=e.match.params.id,Object(hn.a)(gn,{variables:{id:t}})),r=a.data,i=a.loading,c=a.error;if(i)return Object(ae.jsx)("div",{children:"Loading..."});if(c)return Object(ae.jsx)("div",{children:"error"});var o=r.journeySelected;return console.log("selected",null===o||void 0===o?void 0:o.journey),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(ue.a,{}),Object(ae.jsx)(Et,{value:{adult:r.journeySelected.numberAdult,child:r.journeySelected.numberChild,baby:r.journeySelected.numberBaby,session:r.journeySelected.session.key,id:r.journeySelected.id,activeStep:r.journeySelected.lastStep,lastStep:r.journeySelected.lastStep,passengers:null===o||void 0===o||null===(n=o.passengers.edges)||void 0===n?void 0:n.map((function(e){return e.node})),cars:null===o||void 0===o?void 0:o.journey.cars,trajets:o.journey.trajets},children:Object(ae.jsx)(ha,{})}),Object(ae.jsx)(je.a,{maxWidth:"md",children:Object(ae.jsx)(Kn,{})}),Object(ae.jsx)(Zn,{})]})},xa=function(e){var n=Object(a.useState)({data:null,isLoading:!1,isError:null}),t=Object(g.a)(n,2),r=t[0],i=t[1];return Object(a.useEffect)((function(){i((function(e){return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0})})),S.get(C,{params:e}).then((function(e){i((function(n){return Object(v.a)(Object(v.a)({},n),{},{data:e.data,isLoading:!1})}))})).catch((function(e){i((function(n){return Object(v.a)(Object(v.a)({},n),{},{isError:e,isLoading:!1})}))}))}),[]),r},fa=function(){var e=Object(s.g)(),n=xa(w.a.parse(e.search)),t=n.data,a=n.isLoading,r=n.isError;return console.log(t,a,r),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(je.a,{maxWidth:"md",style:{marginTop:20},children:[t&&Object(ae.jsx)(Hn,{voyages:t.results}),Object(ae.jsx)(Kn,{})]}),Object(ae.jsx)(Zn,{})]})},va=function(e){return S.get(e).then((function(e){return e.data}))},ga=function(){return Object(ae.jsx)(re,{children:Object(ae.jsx)(ie,{children:Object(ae.jsx)(l.a,{value:{fetcher:va,refreshInterval:1e5},children:Object(ae.jsx)(o.a,{children:Object(ae.jsx)(ke,{children:Object(ae.jsx)("div",{children:Object(ae.jsxs)(s.c,{children:[Object(ae.jsx)(s.a,{path:"/",exact:!0,component:nt}),Object(ae.jsx)(s.a,{path:"/j/:id",exact:!0,component:vt}),Object(ae.jsx)(s.a,{path:"/search",exact:!0,component:fa}),Object(ae.jsx)(s.a,{path:"/res/:id",exact:!0,component:Oa})]})})})})})})})},ya=t(56),Ca=t(343),Sa=function(e){return Object(ae.jsx)(ya.a,{utils:Ca.a,children:null===e||void 0===e?void 0:e.children})},Ta=t(25),Da=t(26),ka=t(45),wa=t(46),Pa=t(663),Ia=t(665),qa=t(669),Ra=new Ia.a({uri:"https://ttm-apis.herokuapp.com/graphql/",cache:new qa.a}),Ba=function(e){Object(ka.a)(t,e);var n=Object(wa.a)(t);function t(){return Object(Ta.a)(this,t),n.apply(this,arguments)}return Object(Da.a)(t,[{key:"render",value:function(){return Object(ae.jsx)(Pa.a,{client:Ra,children:this.props.children})}}]),t}(a.Component);var Ea=function(){return Object(ae.jsx)(Ba,{children:Object(ae.jsx)(Sa,{children:Object(ae.jsx)(ga,{})})})};t(537);c.a.render(Object(ae.jsx)(Ea,{}),document.getElementById("root"))},60:function(e,n,t){"use strict";t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return u}));var a=t(6),r=t(21),i=t(11),c=t(0),o=t(196),s={dispatcher:function(e){console.log(e)},clipboard:"SEAT",defaultReservation:{},precomposition:[],devMod:!1,reservations:{71:[{user:"3456io",trajet:[0,2]}]},selectedTrajet:[],trajets:[],x:0,y:0},l=c.createContext(s);function u(e,n){switch(console.log(e,n),n.type){case"handlerInit":var t=Object(o.b)(n.payload.precomposition,n.payload.y);return Object(i.a)(Object(i.a)(Object(i.a)({},e),n.payload),{},{precomposition:t});case"handlerChangeModDev":return Object(i.a)(Object(i.a)({},e),{},{devMod:n.payload});case"handlerChangeSelectTrajet":return Object(i.a)(Object(i.a)({},e),{},{selectedTrajet:n.payload});case"handlerSetTrajet":return Object(i.a)(Object(i.a)({},e),{},{trajets:n.payload});case"handlerChangeX":return Object(i.a)(Object(i.a)({},e),{},{x:n.payload});case"handlerChangeY":return Object(i.a)(Object(i.a)({},e),{},{y:n.payload});case"handlerReserve":return d(e,n.payload);case"handlerUnreserve":return j(e,n.payload);case"handlerDefaultReserve":return d(e,n.payload);case"handlerDefaultUnreserve":return j(e,n.payload);case"handlerChangeClipboard":return Object(i.a)(Object(i.a)({},e),{},{clipboard:n.payload});case"handlerPrecompose":return Object(i.a)(Object(i.a)({},e),{},{precomposition:b(e.x,e.y)});case"handlerChangeType":return Object(i.a)(Object(i.a)({},e),{},{precomposition:p(e.precomposition,n.payload)});default:return e}}function d(e,n){var t=n.user,c=n.seat,o={trajet:e.selectedTrajet,user:t},s=Object(i.a)(Object(i.a)({},e.reservations),{},Object(a.a)({},c,e.reservations[c]?[o].concat(Object(r.a)(e.reservations[c])):[o]));return Object(i.a)(Object(i.a)({},e),{},{reservations:s})}function j(e,n){return Object(i.a)({},e)}function b(e,n){for(var t=[],a=0;a<n;a++){for(var r=[],i=0;i<e;i++)r.push(m(i.toString(),a.toString()));t.push({id:a,data:r})}return t}function m(e,n){var t="".concat(e,"-").concat(n);return{id:t,idConfigCab:"",type:"SEAT",x:parseInt(e),y:parseInt(n),name:t}}function p(e,n){return e.map((function(e){return e.id===n.y?{id:e.id,data:e.data.map((function(e){return e.id===n.id?n:e}))}:e}))}},84:function(e,n,t){"use strict";var a=t(11),r=t(86),i=t(0),c=t(554),o=t(339),s=t.n(o),l=t(340),u=t.n(l),d=t(1),j=i.forwardRef((function(e,n){var t=e.modeDev,o=e.onPress,l=Object(r.a)(e,["modeDev","onPress"]),j=l.info,b=i.useMemo((function(){return t?"outlined":"SEAT"===(null===j||void 0===j?void 0:j.type)?"contained":"text"}),[null===j||void 0===j?void 0:j.type,t]),m=i.useCallback((function(){return o&&o(j)}),[j,o]);return Object(d.jsx)(c.a,Object(a.a)(Object(a.a)({},l),{},{onClick:m,variant:b,size:"large",disableElevation:!0,children:"SEAT"===(null===j||void 0===j?void 0:j.type)?Object(d.jsx)(s.a,{}):t?Object(d.jsx)(u.a,{}):null}))}));n.a=i.memo(j)}},[[538,1,2]]]);
//# sourceMappingURL=main.dcc2ed27.chunk.js.map